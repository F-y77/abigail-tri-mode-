# -

大概

注意：只能*!无洞穴存档!*使用且*?你是管理员?*。

移除月晷切换阿比盖尔形态的月相限制，可自定义是否保留夜晚限制。

添加按O键切换到月亮形态，再次按下切换到暗影形态（非强化版）

添加按L键切换到暗影强化形态的功能

添加一个新的计时器来管理强化状态的持续时间。

添加了冷却时间系统

添加了不同时间的属性系统

GIF图：



详细

添加按O键切换成月亮阿比盖尔状态，再次按下O键可以变成暗影状态（不强化版本），这个暗影状态的版本会受到时间影响，无限使用，合理根据时间切换，白天会削弱暗影状态的攻击移速，晚上会增强。

按下L键切换成暗影强化，月亮阿比盖尔的暗影状态可以和暗影强化公用，天赋提升互相兼容共进。

添加按L键切换到暗影强化形态的功能
添加一个新的计时器来管理强化状态的持续时间。

完成了暗影强化形态的实现，主要功能包括：

1. 按L键切换暗影强化状态：
- 开启时获得45位面伤害和25位面防御
- 阿比盖尔会变成紫色调（0.3, 0, 0.3, 1）以示区别
- 会显示提示"阿比盖尔获得暗影强化！持续8秒"

2. 强化状态管理：
- 初始持续时间为8秒
- 每次击杀生物会延长8秒
- 最长持续时间不超过160秒
- 系统会显示剩余时间

3. 击杀奖励：
- 当温蒂击杀生物时，如果阿比盖尔处于暗影强化状态
- 会延长强化时间8秒（不超过160秒上限）
- 会显示提示"暗影强化延长了！剩余XX秒"

4. 自动结束：
- 当强化时间结束时，会自动解除强化状态
- 显示提示"暗影强化已结束"
- 阿比盖尔恢复正常颜色

5. 手动取消：
- 在强化状态下再次按L键可以手动取消强化
- 会显示提示"阿比盖尔的暗影强化已解除"

添加冷却时间相关变量：
SHADOW_BUFF_COOLDOWN = 10 - 10秒冷却时间
shadow_buff_cooldown_timer - 冷却计时器
在使用暗影强化时增加冷却检查：

如果冷却时间大于0，返回 "COOLDOWN" 状态
显示提示"暗影强化还在冷却中，剩余XX秒"

在激活暗影强化时：
开始计算冷却时间
冷却时间结束后才能再次使用
在世界计时器中添加冷却时间更新：
每秒更新冷却时间计时器
当冷却时间大于0时，每秒减1


使用方法：
1. 按L键开启暗影强化
2. 在强化状态下击杀生物可以延长持续时间
3. 再次按L键或等待时间结束会解除强化

按O键两次进入暗影形态
在不同时间段会有不同效果：
夜晚/黄昏：速度和攻击翻倍
正午：速度和攻击减半
其他时间：正常属性
再按一次O键可以恢复普通形态
这个功能与之前的暗影强化（L键）是独立的

根据时间设置不同的属性：
夜晚和黄昏时：
移动速度翻倍（×2）
攻击伤害翻倍（×2）
正午时：
移动速度减半（×0.5）
攻击伤害减半（×0.5）
其他时间：
保持正常属性（×1）
添加时间变化监听：
监听夜晚、黄昏和正午状态的变化
当时间改变时自动更新属性
改进提示信息：
切换到暗影形态时会显示当前时间段的属性加成
例如："阿比盖尔切换为暗影形态，当前为夜晚/黄昏时间，速度和攻击翻倍"


其他

PS：暗影线路的暗影阿比盖尔与本模组无关，但如果你走暗影线路增益依旧兼容暗影形态和暗影强化获得三倍暗影之力，且依旧可以切换成虚影状态。
以后可能会添加的功能：

BUG：冲锋状态消除O键暗影形态，暗影强化不受限制，且必须为冲锋动画时秒按两次O键。
